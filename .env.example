# TRC - The Riven Companion Configuration
# Copy this file to .env and fill in your values

# =============================================================================
# REQUIRED SETTINGS
# =============================================================================

# Riven API URL (include port, no trailing slash)
RIVEN_URL=http://192.168.50.203:8080

# Riven API Key (get from Riven settings or generate)
RIVEN_API_KEY=your_riven_api_key_here

# Real-Debrid API Key (get from https://real-debrid.com/apitoken)
RD_API_KEY=your_real_debrid_api_key_here

# =============================================================================
# MONITORING INTERVALS
# =============================================================================

# How often to check Riven for problem items (in hours)
# Default: 6 hours
CHECK_INTERVAL_HOURS=6

# Time to wait between retry attempts for the same item (in minutes)
# Default: 10 minutes
RETRY_INTERVAL_MINUTES=10

# How often to check RD torrent status (in minutes)
# Default: 5 minutes
RD_CHECK_INTERVAL_MINUTES=5

# Maximum time to wait for a torrent to complete on RD (in hours)
# After this, if progress is low, torrent is considered stalled
# Default: 2 hours
RD_MAX_WAIT_HOURS=2

# =============================================================================
# RETRY CONFIGURATION
# =============================================================================

# Number of times to retry via Riven before falling back to manual scrape
# Default: 3
MAX_RIVEN_RETRIES=3

# Maximum number of torrents to try per item during manual scrape
# Will try top results sorted by rank
# Default: 10
MAX_RD_TORRENTS=10

# Maximum concurrent downloads to manage on Real-Debrid
# TRC will only add new torrents when below this limit
# Default: 3
MAX_ACTIVE_RD_DOWNLOADS=3

# Delay between adding torrents to RD (in seconds)
# Helps avoid overwhelming RD and ensures proper processing
# Default: 30
TORRENT_ADD_DELAY_SECONDS=30

# =============================================================================
# RATE LIMITING
# =============================================================================

# Minimum seconds between Real-Debrid API calls
# RD allows 250 requests/min, we default to 5s (12/min) to be safe
# Default: 5
RD_RATE_LIMIT_SECONDS=5

# Minimum seconds between Riven API calls
# Default: 1
RIVEN_RATE_LIMIT_SECONDS=1

# =============================================================================
# LOGGING
# =============================================================================

# Log level (DEBUG, INFO, WARNING, ERROR)
# Default: INFO
LOG_LEVEL=INFO

